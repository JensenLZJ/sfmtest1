<!-- Like looking under the hood? We're interested in people like you! Come and join us: https://samudrafm.com/opportunities/ -->


<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=1.0, user-scalable=no">
    <title>SamudraFM — Your study, your music.</title>
    <meta name="description" content="SamudraFM - Non-stop hits, live shows, and requests.">
    
    <!-- Force cache clearing on every visit -->
    <meta http-equiv="Cache-Control" content="no-cache, no-store, must-revalidate">
    <meta http-equiv="Pragma" content="no-cache">
    <meta http-equiv="Expires" content="0">
    
    <!-- Coming Soon Redirect - Always redirect to coming soon page -->
    <script>
        // Check if this is a fresh bypass (not a refresh)
        const urlParams = new URLSearchParams(window.location.search);
        const hasBypassParam = urlParams.has('bypass');
        const isRefresh = sessionStorage.getItem('samudrafm_visited') === 'true';
        
        // If no bypass parameter OR if it's a refresh, redirect to coming soon
        if (!hasBypassParam || isRefresh) {
            // Clear any existing bypass data
            localStorage.removeItem('samudrafm_bypass');
            sessionStorage.removeItem('samudrafm_bypass');
            sessionStorage.removeItem('samudrafm_visited');
            document.cookie = 'samudrafm_bypass=; expires=Thu, 01 Jan 1970 00:00:00 UTC; path=/;';
            
            // Force redirect to coming soon page
            window.location.href = '/coming-soon';
        } else {
            // Mark as visited and set session flag
            sessionStorage.setItem('samudrafm_visited', 'true');
            sessionStorage.setItem('samudrafm_bypass', 'true');
            
            // Show construction warning popup for bypassed users
            window.addEventListener('load', function() {
                setTimeout(function() {
                    alert('⚠️ WARNING ⚠️\n\nThis website is still under construction!\n\nSome features may not work properly.\n\nReport bugs to: 0176858799');
                }, 1000);
            });
        }
    </script>
    
    <!-- Open Graph / Facebook / WhatsApp -->
    <meta property="og:type" content="website">
    <meta property="og:url" content="https://samudrafm.com/">
    <meta property="og:title" content="SamudraFM — Your study, your music.">
    <meta property="og:description" content="SamudraFM - Non-stop hits, live shows, and requests. Helping you focus, unwind, and stay inspired — one song at a time.">
    <meta property="og:image" content="https://samudrafm.com/images/SamudraFMLogo1.png">
    <meta property="og:image:width" content="1200">
    <meta property="og:image:height" content="630">
    <meta property="og:image:alt" content="SamudraFM Logo">
    <meta property="og:site_name" content="SamudraFM">
    
    <!-- Twitter -->
    <meta property="twitter:card" content="summary_large_image">
    <meta property="twitter:url" content="https://samudrafm.com/">
    <meta property="twitter:title" content="SamudraFM — Your study, your music.">
    <meta property="twitter:description" content="SamudraFM - Non-stop hits, live shows, and requests. Helping you focus, unwind, and stay inspired — one song at a time.">
    <meta property="twitter:image" content="https://samudrafm.com/images/SamudraFMLogo1.png">
    <meta property="twitter:image:alt" content="SamudraFM Logo">
    
    <!-- Additional meta tags for better sharing -->
    <meta name="theme-color" content="#1a1a1a">
    <meta name="msapplication-TileColor" content="#1a1a1a">
    <meta name="msapplication-TileImage" content="https://samudrafm.com/images/SamudraFMLogo1.png">
    
    <link rel="preconnect" href="https://fonts.googleapis.com">
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
    <link href="https://fonts.googleapis.com/css2?family=Inter:wght@300;400;600;700;800&display=swap" rel="stylesheet">
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.0/css/all.min.css" integrity="sha512-iecdLmaskl7CVkqkXNQ/ZH/XLlvWZOJyj7Yy7tcenmpD1ypASozpmT/E0iPtmFIB46ZmdtAc9eNBvH0H/ZpiBw==" crossorigin="anonymous" referrerpolicy="no-referrer">
    <link rel="stylesheet" href="styles.css?v=40&t=1734570200&force=17&nocache=1">
    
    <!-- Favicon -->
    <link rel="icon" type="image/png" href="images/SamudraFMLogo1.png">
    <link rel="apple-touch-icon" href="images/SamudraFMLogo1.png">
    <link rel="shortcut icon" href="images/SamudraFMLogo1.png">
    
    <!-- Content Security Policy and Permissions Policy -->
    <meta http-equiv="Permissions-Policy" content="encrypted-media=*; autoplay=*; microphone=*; camera=*; fullscreen=*; geolocation=*; payment=*; usb=*; accelerometer=*; gyroscope=*; magnetometer=*; display-capture=*; web-share=*; clipboard-read=*; clipboard-write=*; picture-in-picture=*">
    <meta http-equiv="Feature-Policy" content="encrypted-media *; autoplay *; microphone *; camera *; fullscreen *; geolocation *; payment *; usb *; accelerometer *; gyroscope *; magnetometer *; display-capture *; web-share *; clipboard-read *; clipboard-write *; picture-in-picture *">
    <meta http-equiv="Content-Security-Policy" content="frame-src https://www.mixcloud.com https://widget.mixcloud.com https://player-widget.mixcloud.com; script-src 'self' 'unsafe-inline' 'unsafe-eval' blob: https://widget.mixcloud.com https://cdnjs.cloudflare.com; connect-src 'self' https://api.mixcloud.com https://widget.mixcloud.com; media-src 'self' https://www.mixcloud.com https://widget.mixcloud.com; object-src 'none';">
</head>
<body>
    <!-- Ribbon Effects -->
    <div class="ribbon ribbon-top"></div>
    <div class="ribbon ribbon-bottom"></div>
    <div class="ribbon ribbon-left-top"></div>
    <div class="ribbon ribbon-left-bottom"></div>
    
    <header class="site-header">
        <div class="container header-inner">
            <a href="/" class="brand" aria-label="SamudraFM Home">
                <span class="brand-mark">Samudra<span>FM</span></span>
                <span class="brand-subtitle">SMK Taman SEA school radio programme</span>
            </a>
            <nav class="nav" aria-label="primary">
                <button class="nav-toggle" aria-expanded="false" aria-controls="nav-menu">☰</button>
                <ul id="nav-menu" class="nav-list">
                    <li><a href="#home" class="active">home</a></li>
                    <li><a href="#schedule">schedule</a></li>
                    <li><a href="#episodes">episodes</a></li>
                    <li><a href="#listen">where to listen</a></li>
                    <li><a href="#about">about</a></li>
                    <li><a href="#contact">contact</a></li>
                </ul>
            </nav>
        </div>
    </header>

    <main id="home" class="site-main container">
        <section class="hero">
            <div class="hero-copy">
                <h1>Your study, your music.</h1>
                <p>Helping you focus, unwind, and stay inspired — one song at a time.</p>
                <div class="cta-row">
                    <button class="btn primary" onclick="window.handlePlayOnly()">Listen now</button>
                    <a class="btn" href="request.html">Send a request</a>
                </div>
            </div>
            <div class="panel hero-latest" id="hero-latest">
                <div class="player-widget">
                    <div class="player-left">
                        <div class="hero-latest-cover cover placeholder" id="player-cover"></div>
                        <div class="play-overlay" id="play-overlay">
                            <button class="play-pause-btn" id="hero-play-pause"><i class="fa-solid fa-pause"></i></button>
                        </div>
                    </div>
                    <div class="player-right">
                        <div class="player-info">
                            <h3 id="hero-ep-title" class="track-title">Loading…</h3>
                            <p id="hero-ep-artist" class="track-artist">SamudraFM</p>
                        </div>
                        <div class="player-controls">
                            <div class="volume-control">
                                <span class="volume-icon">🔊</span>
                                <div class="volume-slider">
                                    <div class="volume-bar">
                                        <div class="volume-fill" style="width: 80%"></div>
                                        <div class="volume-handle"></div>
                                    </div>
                                </div>
                            </div>
                            <a id="hero-open" class="request-btn" href="request.html" target="_blank" rel="noopener">Send a request</a>
                        </div>
                        
                        <!-- Custom Player Controls Only -->
                        <div class="progress-container">
                            <div class="progress" id="progress-bar">
                                <div id="hero-progress" class="bar" style="width:0%"></div>
                                <div class="progress-handle" id="progress-handle"></div>
                            </div>
                            <div class="time-display">
                                <span id="current-time">0:00</span>
                                <span id="total-time">0:00</span>
                            </div>
                        </div>
                    </div>
                </div>
                <div class="hero-embed" hidden></div>
            </div>
        </section>


        <section class="main-content-grid">
            <!-- Left Side - Instagram Posts -->
            <div class="instagram-section">
            <div class="section-head">
                    <h2><span class="dot-particle"></span>Latest Posts<span class="heading-line"></span></h2>
                </div>
                <div class="instagram-feed" id="instagram-feed">
                    <!-- Instagram posts will be loaded here automatically -->
                    <div class="instagram-loading">
                        <i class="fab fa-instagram"></i>
                        <p>Loading latest posts...</p>
                    </div>
                </div>
            </div>

            <!-- Right Side - Coming Up -->
            <div id="schedule" class="coming" aria-labelledby="coming-heading">
            <div class="section-head">
                    <h2 id="coming-heading"><span class="dot-particle"></span>Coming up<span class="heading-line"></span></h2>
                </div>
                <div id="coming-grid" class="card-col"></div>
            </div>
        </section>

        <section id="episodes" class="episodes" aria-labelledby="episodes-heading">
            <div class="section-head">
                <h2 id="episodes-heading"><span class="dot-particle"></span>Latest episodes<span class="heading-line"></span></h2>
            </div>
            <p class="muted">Live from SamudraFM Mixcloud profile.</p>
            <div class="episodes-slider-container">
                <div id="episodes-slider" class="episodes-slider"></div>
            </div>
            <div class="slider-controls">
                <button id="prev-episode" class="slider-btn" aria-label="Previous episodes">‹</button>
                <div class="slider-dots" id="episode-dots"></div>
                <button id="next-episode" class="slider-btn" aria-label="Next episodes">›</button>
            </div>
            <div class="cta-row" style="margin-top:12px">
                <button id="episodes-load" class="btn" aria-label="Load more episodes">Load more</button>
            </div>
        </section>

        <section id="about" class="about">
            <h2>About us</h2>
            <div class="about-content">
                <p>Welcome to SamudraFM, the voice of SMK Taman SEA! 🎙️</p>
                <p>We're a student-run weekly radio programme created by volunteers with a passion for music, entertainment, and sharing stories. Every week, we bring energy, fun, and fresh vibes straight from our school community to you.</p>
                <p>SamudraFM isn't just a radio show—it's a platform for students to express themselves, connect with others, and make mornings a little brighter.</p>
            </div>
        </section>
    </main>

    <footer class="site-footer" id="about">
        <div class="footer-content">
            <div class="footer-column">
                <div class="footer-logo">
                    <img src="images/SamudraFMLogo1transparent.png" alt="SamudraFM Logo" />
                </div>
                <h2 class="footer-brand-title">SamudraFM</h2>
                <p class="footer-description">
                    Non-Profit Organization. Fully volunteer-run<br>
                    school of SMK Taman SEA radio station.
                </p>
            </div>
            
            <div class="footer-column">
                <h3>Connect & Listen</h3>
                <ul class="footer-links social-links">
                    <li><a href="https://www.instagram.com/samudrafm/" class="social-link"><i class="fab fa-instagram"></i> Instagram</a></li>
                    <li><a href="https://www.facebook.com/SamudraFMSMKTS" class="social-link"><i class="fab fa-facebook"></i> Facebook</a></li>
                    <li><a href="https://www.mixcloud.com/SamudraFM/" class="social-link"><i class="fab fa-mixcloud"></i> Mixcloud</a></li>
                </ul>
            </div>
            
            <div class="footer-column">
                <h3>Legal</h3>
                <ul class="footer-links">
                    <li><a href="privacy-policy.html">Privacy Policy</a></li>
                </ul>
            </div>
        </div>
        
        <div class="footer-separator"></div>
        
        <div class="footer-bottom">
            <p>© 2025 SamudraFM. Designed with passion by Jensen Lim Zi Jen 📻</p>
        </div>
    </footer>

    <!-- Official Mixcloud Player (Hidden at bottom) -->
    <div id="mixcloud-player-container" style="position: fixed; bottom: -200px; left: 0; width: 100%; height: 200px; z-index: 1000; transition: bottom 0.3s ease;">
        <div id="mixcloud-player" class="mixcloud-embed" data-url="" data-hide-cover="1" data-light="1" data-autoplay="0" data-mini="1" style="width: 100%; height: 100%;"></div>
    </div>

    <!-- Audio player will be handled by Mixcloud widget -->


    <script src="script.js?v=51&t=1734570200&nocache=1"></script>
    <script src="https://widget.mixcloud.com/media/js/widgetApi.js"></script>
    <script>
    // Force clear all caches on every visit
    if ('caches' in window) {
      caches.keys().then(function(names) {
        for (let name of names) {
          caches.delete(name);
        }
      });
    }
    
    // Clear service worker cache
    if ('serviceWorker' in navigator) {
      navigator.serviceWorker.getRegistrations().then(function(registrations) {
        for(let registration of registrations) {
          registration.unregister();
        }
      });
      
      // Register new service worker after clearing
      window.addEventListener('load', function(){ 
        navigator.serviceWorker.register('/sw.js?v=' + Date.now()); 
      });
    }
    
    // Force reload if page is loaded from cache
    window.addEventListener('pageshow', function(event) {
      if (event.persisted) {
        window.location.reload();
      }
    });
    </script>
    
    <!-- Instagram Feed - Auto-updating content -->
    <script>
      // Instagram feed is handled by the main script.js
      console.log('Instagram feed system loaded');
    </script>
</body>
</html>
