<!-- Like looking under the hood? We're interested in people like you! Come and join us: https://samudrafm.com/opportunities/ -->


<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=1.0, user-scalable=no">
    <title>SamudraFM — Your study, your music. (v<script>document.write(Date.now())</script>)</title>
    <meta name="description" content="SamudraFM - Non-stop hits, live shows, and requests.">
    
    <!-- Force cache clearing on every visit - Enhanced for mobile -->
    <meta http-equiv="Cache-Control" content="no-cache, no-store, must-revalidate, max-age=0, private, no-transform">
    <meta http-equiv="Pragma" content="no-cache">
    <meta http-equiv="Expires" content="0">
    <meta name="cache-control" content="no-cache, no-store, must-revalidate, max-age=0, private, no-transform">
    <meta name="expires" content="0">
    <meta name="pragma" content="no-cache">
    
    <!-- Additional mobile cache prevention -->
    <meta http-equiv="Last-Modified" content="0">
    <meta http-equiv="ETag" content="0">
    <meta http-equiv="Vary" content="*">
    
    <!-- Additional mobile cache prevention -->
    <meta name="mobile-web-app-capable" content="yes">
    <meta name="apple-mobile-web-app-capable" content="yes">
    <meta name="apple-mobile-web-app-status-bar-style" content="black-translucent">
    
    <!-- Force fresh load on every visit -->
    <script>
        // Immediately redirect with cache busting parameter
        if (!window.location.search.includes('cb=')) {
            window.location.replace(window.location.href + (window.location.search ? '&' : '?') + 'cb=' + Date.now());
        }
        
        // Ensure JavaScript runs regardless of how page is loaded
        function ensureScriptsRun() {
            console.log('Ensuring scripts run - DOM ready state:', document.readyState);
            
            // Force DOMContentLoaded event if it hasn't fired
            if (document.readyState === 'loading') {
                document.addEventListener('DOMContentLoaded', function() {
                    console.log('DOMContentLoaded fired');
                });
            } else {
                console.log('DOM already loaded - triggering events manually');
                // Manually trigger DOMContentLoaded if it already loaded
                const event = new Event('DOMContentLoaded');
                document.dispatchEvent(event);
            }
        }
        
        // Run immediately and also on load
        ensureScriptsRun();
        window.addEventListener('load', ensureScriptsRun);
    </script>
    
    <!-- Aggressive cache busting for mobile -->
    <script>
        // Global error handler to prevent JavaScript errors from breaking page load
        window.addEventListener('error', function(e) {
            console.warn('JavaScript error caught:', e.message, 'at', e.filename, 'line', e.lineno);
            // Don't let errors break the page
            return true;
        });
        
        // Global unhandled promise rejection handler
        window.addEventListener('unhandledrejection', function(e) {
            console.warn('Unhandled promise rejection:', e.reason);
            // Prevent the error from breaking the page
            e.preventDefault();
        });
        
        // URL-based cache busting (redundant with above, keeping for safety)
        console.log('Page load detected - ensuring cache busting');
        
        // Clear all caches for fresh loads
        if ('caches' in window) {
            caches.keys().then(function(names) {
                names.forEach(function(name) {
                    caches.delete(name);
                });
                console.log('All caches cleared');
            }).catch(function(err) {
                console.warn('Cache clearing failed:', err);
            });
        }
        
        // Simple cache busting without complex queuing
        const originalFetch = window.fetch;
        window.fetch = function(url, options = {}) {
            try {
                if (typeof url === 'string' && !url.includes('http') && !url.includes('//')) {
                    const separator = url.includes('?') ? '&' : '?';
                    url += separator + 'cb=' + Date.now() + '&r=' + Math.random();
                }
                return originalFetch(url, options);
            } catch (err) {
                console.warn('Fetch error:', err);
                return originalFetch(url, options);
            }
        };
    </script>
    
    <!-- Coming Soon Redirect - Fixed logic to prevent second visit redirects -->
    <script>
        // Check if this is a fresh bypass (not a refresh)
        const urlParams = new URLSearchParams(window.location.search);
        const hasBypassParam = urlParams.has('bypass');
        const isRefresh = sessionStorage.getItem('samudrafm_visited') === 'true';
        
        // Only redirect to coming soon if NO bypass parameter AND it's the first visit
        // This prevents redirects on second visits
        if (!hasBypassParam && !isRefresh) {
            // Clear any existing bypass data
            localStorage.removeItem('samudrafm_bypass');
            sessionStorage.removeItem('samudrafm_bypass');
            sessionStorage.removeItem('samudrafm_visited');
            document.cookie = 'samudrafm_bypass=; expires=Thu, 01 Jan 1970 00:00:00 UTC; path=/;';
            
            // Force redirect to coming soon page
            window.location.href = '/coming-soon.html';
        } else {
            // Mark as visited and set session flag (for subsequent visits)
            sessionStorage.setItem('samudrafm_visited', 'true');
            sessionStorage.setItem('samudrafm_bypass', 'true');
            
            // Construction warning popup removed for better user experience
        }
    </script>
    
    <!-- Open Graph / Facebook / WhatsApp -->
    <meta property="og:type" content="website">
    <meta property="og:url" content="https://samudrafm.com/">
    <meta property="og:title" content="SamudraFM — Your study, your music.">
    <meta property="og:description" content="SamudraFM - Non-stop hits, live shows, and requests. Helping you focus, unwind, and stay inspired — one song at a time.">
    <meta property="og:image" content="https://samudrafm.com/images/SamudraFMLogo1.png">
    <meta property="og:image:width" content="1200">
    <meta property="og:image:height" content="630">
    <meta property="og:image:alt" content="SamudraFM Logo">
    <meta property="og:site_name" content="SamudraFM">
    
    <!-- Twitter -->
    <meta property="twitter:card" content="summary_large_image">
    <meta property="twitter:url" content="https://samudrafm.com/">
    <meta property="twitter:title" content="SamudraFM — Your study, your music.">
    <meta property="twitter:description" content="SamudraFM - Non-stop hits, live shows, and requests. Helping you focus, unwind, and stay inspired — one song at a time.">
    <meta property="twitter:image" content="https://samudrafm.com/images/SamudraFMLogo1.png">
    <meta property="twitter:image:alt" content="SamudraFM Logo">
    
    <!-- Additional meta tags for better sharing -->
    <meta name="theme-color" content="#1a1a1a">
    <meta name="msapplication-TileColor" content="#1a1a1a">
    <meta name="msapplication-TileImage" content="https://samudrafm.com/images/SamudraFMLogo1.png">
    
    <link rel="preconnect" href="https://fonts.googleapis.com">
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
    <link href="https://fonts.googleapis.com/css2?family=Inter:wght@300;400;600;700;800&display=swap" rel="stylesheet">
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.0/css/all.min.css" integrity="sha512-iecdLmaskl7CVkqkXNQ/ZH/XLlvWZOJyj7Yy7tcenmpD1ypASozpmT/E0iPtmFIB46ZmdtAc9eNBvH0H/ZpiBw==" crossorigin="anonymous" referrerpolicy="no-referrer">
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/animate.css/4.1.1/animate.min.css">
    <link rel="stylesheet" href="styles.css?v=44&t=1734571000&force=21&nocache=1&cb=1734571000">
    
    
    <!-- Favicon -->
    <link rel="icon" type="image/png" href="images/SamudraFMLogo1.png">
    <link rel="apple-touch-icon" href="images/SamudraFMLogo1.png">
    <link rel="shortcut icon" href="images/SamudraFMLogo1.png">
    
    <!-- Simplified mobile handling - removed complex detection that might cause conflicts -->
    
    <!-- Content Security Policy and Permissions Policy -->
    <meta http-equiv="Permissions-Policy" content="encrypted-media=(self https://player-widget.mixcloud.com https://www.mixcloud.com); autoplay=(self https://player-widget.mixcloud.com https://www.mixcloud.com); microphone=(); camera=(); fullscreen=(self https://player-widget.mixcloud.com https://www.mixcloud.com); geolocation=(); payment=(); usb=(); accelerometer=(); gyroscope=(); magnetometer=(); display-capture=(); web-share=(self); clipboard-read=(); clipboard-write=(); picture-in-picture=(self)">
    <meta http-equiv="Feature-Policy" content="encrypted-media 'self' https://player-widget.mixcloud.com https://www.mixcloud.com; autoplay 'self' https://player-widget.mixcloud.com https://www.mixcloud.com; microphone 'none'; camera 'none'; fullscreen 'self' https://player-widget.mixcloud.com https://www.mixcloud.com; geolocation 'none'; payment 'none'; usb 'none'; accelerometer 'none'; gyroscope 'none'; magnetometer 'none'; display-capture 'none'; web-share 'self'; clipboard-read 'none'; clipboard-write 'none'; picture-in-picture 'self'">
    <meta http-equiv="Content-Security-Policy" content="default-src 'self'; img-src 'self' data: https:; style-src 'self' 'unsafe-inline' https://fonts.googleapis.com https://cdnjs.cloudflare.com; font-src 'self' https://fonts.gstatic.com https://cdnjs.cloudflare.com; frame-src https://www.mixcloud.com https://widget.mixcloud.com https://player-widget.mixcloud.com; script-src 'self' 'unsafe-inline' 'unsafe-eval' blob: https://widget.mixcloud.com https://cdnjs.cloudflare.com https://www.googleapis.com; script-src-elem 'self' 'unsafe-inline' blob: https://widget.mixcloud.com https://cdnjs.cloudflare.com https://www.googleapis.com; connect-src 'self' https://api.mixcloud.com https://widget.mixcloud.com https://api.allorigins.win https://cors-anywhere.herokuapp.com https://thingproxy.freeboard.io https://www.googleapis.com https://graph.instagram.com https://rss.app; media-src 'self' https://www.mixcloud.com https://widget.mixcloud.com; object-src 'none'; base-uri 'self'; form-action 'self'; worker-src 'self'; child-src 'self';">
    <meta http-equiv="X-Content-Type-Options" content="nosniff">
    <meta http-equiv="X-XSS-Protection" content="1; mode=block">
    <meta http-equiv="Referrer-Policy" content="strict-origin-when-cross-origin">
</head>
<body>
    <!-- Ribbon Effects -->
    <div class="ribbon ribbon-top"></div>
    <div class="ribbon ribbon-bottom"></div>
    <div class="ribbon ribbon-left-top"></div>
    <div class="ribbon ribbon-left-bottom"></div>
    
    <main id="home" class="site-main container">
        <section class="hero">
            <!-- Integrated Hero Header -->
            <header class="hero-header">
                <div class="hero-header-inner">
                    <a href="/" class="brand" aria-label="SamudraFM Home">
                        <span class="brand-mark">Samudra<span>FM</span></span>
                        <span class="brand-subtitle">SMK Taman SEA school radio programme</span>
                    </a>
                    <nav class="nav" aria-label="primary">
                        <button class="nav-toggle" aria-expanded="false" aria-controls="nav-menu">
                            <span class="hamburger-line"></span>
                            <span class="hamburger-line"></span>
                            <span class="hamburger-line"></span>
                        </button>
                        <ul id="nav-menu" class="nav-list">
                            <li><a href="/" class="active">home</a></li>
                            <li><a href="/schedule">schedule</a></li>
                            <li><a href="/team">our team</a></li>
                            <li><a href="/about">about</a></li>
                            <li><a href="/contact">contact</a></li>
                        </ul>
                    </nav>
                </div>
            </header>
            <div class="hero-copy">
                <h1>Your study, your music.</h1>
                <p>Helping you focus, unwind, and stay inspired.<br>one song at a time.</p>
                <div class="cta-row">
                    <a class="btn primary" href="request">Send a request</a>
                </div>
            </div>
            <div class="panel hero-latest" id="hero-latest">
                <div class="player-widget">
                    <div class="player-content-row">
                        <div class="player-left">
                            <div class="hero-latest-cover cover placeholder" id="player-cover"></div>
                            <div class="play-overlay" id="play-overlay">
                                <button class="play-pause-btn" id="hero-play-pause"><i class="fa-solid fa-pause"></i></button>
                            </div>
                        </div>
                        <div class="player-right">
                            <div class="player-info">
                                <h3 id="hero-ep-title" class="track-title">Loading…</h3>
                                <p id="hero-ep-artist" class="track-artist">SamudraFM</p>
                            </div>
                            <div class="player-controls">
                                <div class="volume-control">
                                    <span class="volume-icon">🔊</span>
                                    <div class="volume-slider">
                                        <div class="volume-bar">
                                            <div class="volume-fill" style="width: 80%"></div>
                                            <div class="volume-handle"></div>
                                        </div>
                                    </div>
                                </div>
                                <a id="hero-open" class="request-btn" href="request" target="_blank" rel="noopener">Send a request</a>
                            </div>
                            
                            <!-- Progress Bar for Desktop -->
                            <div class="progress-container">
                                <div class="progress" id="progress-bar-desktop">
                                    <div id="hero-progress-desktop" class="bar" style="width:0%"></div>
                                    <div class="progress-handle" id="progress-handle-desktop"></div>
                                </div>
                                <div class="time-display">
                                    <span id="current-time-desktop">0:00</span>
                                    <span id="total-time-desktop">0:00</span>
                                </div>
                            </div>
                        </div>
                    </div>
                    
                    <!-- Progress Bar - Full Width on Mobile -->
                    <div class="progress-container">
                        <div class="progress" id="progress-bar">
                            <div id="hero-progress" class="bar" style="width:0%"></div>
                            <div class="progress-handle" id="progress-handle"></div>
                        </div>
                        <div class="time-display">
                            <span id="current-time">0:00</span>
                            <span id="total-time">0:00</span>
                        </div>
                    </div>
                </div>
            </div>


            <div class="hero-embed" hidden></div>
        </section>


        <section class="main-content-grid">
            <!-- Left Side - Instagram Posts -->
            <div class="instagram-section">
                <div class="section-head">
                    <h2><span class="dot-particle"></span>SFM Instagram<span class="heading-line">&nbsp;</span></h2>
                    <div class="instagram-nav-controls">
                        <button class="instagram-nav-btn instagram-prev-btn" onclick="scrollInstagramLeft()">
                            <i class="fas fa-chevron-left"></i>
                        </button>
                        <button class="instagram-nav-btn instagram-next-btn" onclick="scrollInstagramRight()">
                            <i class="fas fa-chevron-right"></i>
                        </button>
                    </div>
                </div>
                <div class="instagram-feed" id="instagram-feed">
                    <!-- Instagram posts will be loaded here by JavaScript -->
                </div>
            </div>

            <!-- Right Side - Coming Up -->
            <div id="schedule" class="coming" aria-labelledby="coming-heading">
            <div class="section-head">
                    <h2 id="coming-heading"><span class="dot-particle"></span>Coming up<span class="heading-line"></span></h2>
                </div>
                <div id="coming-grid" class="card-col"></div>
            </div>
        </section>

        <!-- Episodes Section -->
        <section id="episodes" class="episodes">
            <div class="section-head">
                <h2><span class="dot-particle"></span>Latest Episodes<span class="heading-line">&nbsp;</span></h2>
                <div class="episodes-nav-controls">
                    <button class="episodes-nav-btn" id="episodes-prev" aria-label="Previous episodes">
                        <i class="fa-solid fa-chevron-left"></i>
                    </button>
                    <button class="episodes-nav-btn" id="episodes-next" aria-label="Next episodes">
                        <i class="fa-solid fa-chevron-right"></i>
                    </button>
                </div>
            </div>
            <div class="episodes-slider-container">
                <div id="episodes-slider" class="episodes-slider">
                    <!-- Episodes will be loaded here by JavaScript -->
                </div>
            </div>
        </section>

        <section id="about" class="about">
            <h2>About us</h2>
            <div class="about-content">
                <p>Welcome to SamudraFM, the voice of SMK Taman SEA! 🎙️</p>
                <p>We're a student-run weekly radio programme created by volunteers with a passion for music, entertainment, and sharing stories. Every week, we bring energy, fun, and fresh vibes straight from our school community to you.</p>
                <p>SamudraFM isn't just a radio show. It's a platform for students to express themselves, connect with others, and make mornings a little brighter.</p>
            </div>
        </section>
    </main>

    <footer class="site-footer" id="about">
        <div class="footer-content">
            <div class="footer-column">
                <h2 class="footer-brand-title">samudrafm.com</h2>
                <p class="footer-description">
                    Non-Profit Organization. Fully volunteer-run<br>
                    school of SMK Taman SEA radio station.
                </p>
                <p class="footer-programme">
                    Our programme is a recreational school radio initiative, designed to give students hands-on broadcasting experience while exploring creativity in music, events, and radio production.
                </p>
            </div>
            
            <div class="footer-column">
                <h3>Connect & Listen</h3>
                <ul class="footer-links social-links">
                    <li><a href="https://www.instagram.com/samudrafm/" class="social-link"><i class="fab fa-instagram"></i> Instagram</a></li>
                    <li><a href="https://www.facebook.com/SamudraFMSMKTS" class="social-link"><i class="fab fa-facebook"></i> Facebook</a></li>
                    <li><a href="https://www.mixcloud.com/SamudraFM/" class="social-link"><i class="fab fa-mixcloud"></i> Mixcloud</a></li>
                </ul>
            </div>
            
            <div class="footer-column">
                <h3>Links</h3>
                <ul class="footer-links">
                    <li><a href="about">About Us</a></li>
                    <li><a href="opportunities">Opportunities</a></li>
                    <li><a href="privacy-policy">Privacy Policy</a></li>
                </ul>
            </div>
        </div>
        
        
        <div class="footer-bottom">
            <p>© 2025 SamudraFM. Designed with passion by Jensen. 📻</p>
        </div>
    </footer>

    <!-- Official Mixcloud Player (Hidden at bottom) -->
    <div id="mixcloud-player-container" style="position: fixed; bottom: -200px; left: 0; width: 100%; height: 200px; z-index: 1000; transition: bottom 0.3s ease;">
        <div id="mixcloud-player" class="mixcloud-embed" data-url="" data-hide-cover="1" data-light="1" data-autoplay="0" data-mini="1" style="width: 100%; height: 100%;"></div>
    </div>

    <!-- Audio player will be handled by Mixcloud widget -->


    <script>
        // Block any attempts to load scripts from infird.com and other suspicious domains
        (function() {
            const originalCreateElement = document.createElement;
            document.createElement = function(tagName) {
                const element = originalCreateElement.call(this, tagName);
                if (tagName.toLowerCase() === 'script') {
                    const originalSetAttribute = element.setAttribute;
                    element.setAttribute = function(name, value) {
                        if (name === 'src' && value) {
                            const suspiciousDomains = ['infird.com', 'malicious.com', 'tracking.com'];
                            if (suspiciousDomains.some(domain => value.includes(domain))) {
                                //console.warn('Blocked suspicious script:', value);
                                return;
                            }
                        }
                        return originalSetAttribute.call(this, name, value);
                    };
                }
                return element;
            };
            
            // Also block any existing scripts that might try to load
            const observer = new MutationObserver(function(mutations) {
                mutations.forEach(function(mutation) {
                    mutation.addedNodes.forEach(function(node) {
                        if (node.tagName === 'SCRIPT' && node.src && node.src.includes('infird.com')) {
                            //console.warn('Removed suspicious script:', node.src);
                            node.remove();
                        }
                    });
                });
            });
            observer.observe(document.body, { childList: true, subtree: true });
        })();
    </script>
    
    <!-- Extension Blocking Script -->
    <script>
        (function() {
            'use strict';
            
            // Extension detection and blocking
            const extensionBlocking = {
                // Known extension identifiers and patterns
                extensionPatterns: [
                    /chrome-extension:\/\//i,
                    /moz-extension:\/\//i,
                    /safari-extension:\/\//i,
                    /ms-browser-extension:\/\//i,
                    /extension:\/\//i,
                    /chrome\.runtime\./i,
                    /browser\.runtime\./i,
                    /chrome\.tabs\./i,
                    /browser\.tabs\./i,
                    /chrome\.storage\./i,
                    /browser\.storage\./i,
                    /chrome\.webRequest\./i,
                    /browser\.webRequest\./i,
                    /chrome\.contextMenus\./i,
                    /browser\.contextMenus\./i,
                    /chrome\.alarms\./i,
                    /browser\.alarms\./i,
                    /chrome\.notifications\./i,
                    /browser\.notifications\./i,
                    /chrome\.cookies\./i,
                    /browser\.cookies\./i,
                    /chrome\.history\./i,
                    /browser\.history\./i,
                    /chrome\.bookmarks\./i,
                    /browser\.bookmarks\./i,
                    /chrome\.downloads\./i,
                    /browser\.downloads\./i,
                    /chrome\.management\./i,
                    /browser\.management\./i,
                    /chrome\.permissions\./i,
                    /browser\.permissions\./i,
                    /chrome\.commands\./i,
                    /browser\.commands\./i,
                    /chrome\.sessions\./i,
                    /browser\.sessions\./i,
                    /chrome\.topSites\./i,
                    /browser\.topSites\./i,
                    /chrome\.omnibox\./i,
                    /browser\.omnibox\./i,
                    /chrome\.pageAction\./i,
                    /browser\.pageAction\./i,
                    /chrome\.browserAction\./i,
                    /browser\.browserAction\./i,
                    /chrome\.windows\./i,
                    /browser\.windows\./i,
                    /chrome\.devtools\./i,
                    /browser\.devtools\./i,
                    /chrome\.debugger\./i,
                    /browser\.debugger\./i,
                    /chrome\.scripting\./i,
                    /browser\.scripting\./i,
                    /chrome\.declarativeNetRequest\./i,
                    /browser\.declarativeNetRequest\./i,
                    /chrome\.webNavigation\./i,
                    /browser\.webNavigation\./i,
                    /chrome\.identity\./i,
                    /browser\.identity\./i,
                    /chrome\.gcm\./i,
                    /browser\.gcm\./i,
                    /chrome\.pushMessaging\./i,
                    /browser\.pushMessaging\./i,
                    /chrome\.tts\./i,
                    /browser\.tts\./i,
                    /chrome\.ttsEngine\./i,
                    /browser\.ttsEngine\./i,
                    /chrome\.input\.ime\./i,
                    /browser\.input\.ime\./i,
                    /chrome\.system\./i,
                    /browser\.system\./i,
                    /chrome\.enterprise\./i,
                    /browser\.enterprise\./i,
                    /chrome\.loginState\./i,
                    /browser\.loginState\./i,
                    /chrome\.certificateProvider\./i,
                    /browser\.certificateProvider\./i,
                    /chrome\.platformKeys\./i,
                    /browser\.platformKeys\./i,
                    /chrome\.mdns\./i,
                    /browser\.mdns\./i,
                    /chrome\.printerProvider\./i,
                    /browser\.printerProvider\./i,
                    /chrome\.fileSystemProvider\./i,
                    /browser\.fileSystemProvider\./i,
                    /chrome\.fileManager\./i,
                    /browser\.fileManager\./i,
                    /chrome\.documentScan\./i,
                    /browser\.documentScan\./i,
                    /chrome\.mediaGalleries\./i,
                    /browser\.mediaGalleries\./i,
                    /chrome\.accessibilityFeatures\./i,
                    /browser\.accessibilityFeatures\./i,
                    /chrome\.fontSettings\./i,
                    /browser\.fontSettings\./i,
                    /chrome\.languageSettings\./i,
                    /browser\.languageSettings\./i,
                    /chrome\.inputMethod\./i,
                    /browser\.inputMethod\./i,
                    /chrome\.contentSettings\./i,
                    /browser\.contentSettings\./i,
                    /chrome\.privacy\./i,
                    /browser\.privacy\./i,
                    /chrome\.proxy\./i,
                    /browser\.proxy\./i,
                    /chrome\.webstore\./i,
                    /browser\.webstore\./i,
                    /chrome\.management\./i,
                    /browser\.management\./i,
                    /chrome\.developerPrivate\./i,
                    /browser\.developerPrivate\./i,
                    /chrome\.system\.display\./i,
                    /browser\.system\.display\./i,
                    /chrome\.system\.memory\./i,
                    /browser\.system\.memory\./i,
                    /chrome\.system\.storage\./i,
                    /browser\.system\.storage\./i,
                    /chrome\.system\.cpu\./i,
                    /browser\.system\.cpu\./i,
                    /chrome\.system\.network\./i,
                    /browser\.system\.network\./i,
                    /chrome\.system\.power\./i,
                    /browser\.system\.power\./i,
                    /chrome\.system\.display\./i,
                    /browser\.system\.display\./i,
                    /chrome\.system\.memory\./i,
                    /browser\.system\.memory\./i,
                    /chrome\.system\.storage\./i,
                    /browser\.system\.storage\./i,
                    /chrome\.system\.cpu\./i,
                    /browser\.system\.cpu\./i,
                    /chrome\.system\.network\./i,
                    /browser\.system\.network\./i,
                    /chrome\.system\.power\./i,
                    /browser\.system\.power\./i
                ],
                
                // Extension detection methods
                detectExtensions: function() {
                    const detected = [];
                    
                    // Check for extension APIs
                    if (typeof chrome !== 'undefined' && chrome.runtime) {
                        detected.push('Chrome Extension API detected');
                    }
                    if (typeof browser !== 'undefined' && browser.runtime) {
                        detected.push('Firefox Extension API detected');
                    }
                    
                    // Check for extension-specific objects
                    if (typeof chrome !== 'undefined') {
                        const chromeKeys = Object.keys(chrome);
                        const extensionKeys = chromeKeys.filter(key => 
                            this.extensionPatterns.some(pattern => pattern.test(key))
                        );
                        if (extensionKeys.length > 0) {
                            detected.push('Chrome extension objects detected: ' + extensionKeys.join(', '));
                        }
                    }
                    
                    // Check for extension-specific global variables
                    const globalVars = Object.keys(window);
                    const extensionVars = globalVars.filter(key => 
                        this.extensionPatterns.some(pattern => pattern.test(key))
                    );
                    if (extensionVars.length > 0) {
                        detected.push('Extension global variables detected: ' + extensionVars.join(', '));
                    }
                    
                    // Check for extension-specific scripts in DOM
                    const scripts = document.querySelectorAll('script[src]');
                    scripts.forEach(script => {
                        if (this.extensionPatterns.some(pattern => pattern.test(script.src))) {
                            detected.push('Extension script detected: ' + script.src);
                        }
                    });
                    
                    return detected;
                },
                
                // Block extension functionality
                blockExtensions: function() {
                    // Override extension APIs
                    if (typeof chrome !== 'undefined') {
                        try {
                            Object.defineProperty(window, 'chrome', {
                                value: undefined,
                                writable: false,
                                configurable: false
                            });
                        } catch (e) {
                            // Chrome object already protected or doesn't exist
                        }
                    }
                    
                    if (typeof browser !== 'undefined') {
                        try {
                            Object.defineProperty(window, 'browser', {
                                value: undefined,
                                writable: false,
                                configurable: false
                            });
                        } catch (e) {
                            // Browser object already protected or doesn't exist
                        }
                    }
                    
                    // Block extension script loading
                    const originalCreateElement = document.createElement;
                    document.createElement = function(tagName) {
                        const element = originalCreateElement.call(this, tagName);
                        if (tagName.toLowerCase() === 'script') {
                            const originalSetAttribute = element.setAttribute;
                            element.setAttribute = function(name, value) {
                                if (name === 'src' && value) {
                                    if (extensionBlocking.extensionPatterns.some(pattern => pattern.test(value))) {
                                        console.warn('Blocked extension script:', value);
                                        return;
                                    }
                                }
                                return originalSetAttribute.call(this, name, value);
                            };
                        }
                        return element;
                    };
                    
                    // Monitor for extension script injection
                    const observer = new MutationObserver(function(mutations) {
                        mutations.forEach(function(mutation) {
                            mutation.addedNodes.forEach(function(node) {
                                if (node.tagName === 'SCRIPT' && node.src) {
                                    if (extensionBlocking.extensionPatterns.some(pattern => pattern.test(node.src))) {
                                        console.warn('Removed extension script:', node.src);
                                        node.remove();
                                    }
                                }
                            });
                        });
                    });
                    observer.observe(document.body, { childList: true, subtree: true });
                },
                
                // Show warning if extensions detected
                showWarning: function(detected) {
                    if (detected.length > 0) {
                        const warning = document.createElement('div');
                        warning.style.cssText = `
                            position: fixed;
                            top: 0;
                            left: 0;
                            width: 100%;
                            background: #ff4444;
                            color: white;
                            padding: 10px;
                            text-align: center;
                            z-index: 10000;
                            font-family: Arial, sans-serif;
                            font-size: 14px;
                            box-shadow: 0 2px 10px rgba(0,0,0,0.3);
                        `;
                        warning.innerHTML = `
                            <strong>⚠️ Extension Detected ⚠️</strong><br>
                            Browser extensions have been detected and blocked for security reasons.<br>
                            Please disable all extensions and refresh the page for the best experience.
                        `;
                        document.body.insertBefore(warning, document.body.firstChild);
                        
                        // Auto-hide after 10 seconds
                        setTimeout(() => {
                            if (warning.parentNode) {
                                warning.parentNode.removeChild(warning);
                            }
                        }, 10000);
                    }
                },
                
                // Initialize extension blocking
                init: function() {
                    this.blockExtensions();
                    
                    // Check for extensions after a short delay
                    setTimeout(() => {
                        const detected = this.detectExtensions();
                        if (detected.length > 0) {
                            console.warn('Extensions detected:', detected);
                            this.showWarning(detected);
                        }
                    }, 1000);
                }
            };
            
            // Initialize extension blocking
            extensionBlocking.init();
        })();
    </script>
    <!-- Instagram Configuration -->
    <script src="instagram-config.js"></script>
    
    <script>
    // Simple script loading with cache busting
    const script = document.createElement('script');
    const scriptTimestamp = Date.now();
    const scriptRandomId = Math.random().toString(36).substring(2, 15);
    script.src = 'script.js?v=78&t=' + scriptTimestamp + '&nocache=1&cb=' + scriptTimestamp + '&r=' + scriptRandomId;
    script.onload = function() {
      console.log('Script loaded successfully');
    };
    script.onerror = function() {
      console.warn('Script loading failed, retrying...');
      // Simple fallback
      const fallbackScript = document.createElement('script');
      fallbackScript.src = 'script.js?fallback=' + Date.now();
      document.head.appendChild(fallbackScript);
    };
    document.head.appendChild(script);
    </script>
    <script src="https://widget.mixcloud.com/media/js/widgetApi.js"></script>
    <!-- Static script fallback removed to prevent duplicate loading -->
    <script>
    // Immediate test to see if script is loading
    // HTML script section loaded
    if (typeof window !== 'undefined') {
      // Window object available
    }
    </script>
    <script>
    // Aggressive cache clearing on every visit
    (function() {
      const swTimestamp = Date.now();
      
      // Clear all browser caches
      if ('caches' in window) {
        caches.keys().then(function(names) {
          for (let name of names) {
            caches.delete(name);
          }
        });
      }
      
      // Clear service worker cache and unregister
      if ('serviceWorker' in navigator) {
        navigator.serviceWorker.getRegistrations().then(function(registrations) {
          for(let registration of registrations) {
            registration.unregister();
          }
        });
        
        // Register new service worker after clearing
        window.addEventListener('load', function(){ 
          // Temporarily disable service worker to test cache issue
          // navigator.serviceWorker.register('/sw.js?v=' + timestamp + '&cb=' + timestamp); 
        });
      }
      
      // Clear localStorage and sessionStorage
      try {
        localStorage.clear();
        sessionStorage.clear();
      } catch(e) {
        // Storage clearing failed
      }
      
      // Clear all cookies for this domain
      document.cookie.split(";").forEach(function(c) { 
        document.cookie = c.replace(/^ +/, "").replace(/=.*/, "=;expires=" + new Date().toUTCString() + ";path=/"); 
      });
      
      // Removed problematic reload events that were causing infinite reloads on mobile
      
      // Prevent caching of this page
      window.addEventListener('beforeunload', function() {
        // Clear any remaining cache
        if ('caches' in window) {
          caches.keys().then(function(names) {
            for (let name of names) {
              caches.delete(name);
            }
          });
        }
      });
    })();
    </script>
    
    <!-- Instagram Feed - Auto-updating content -->
    <script>
      // Instagram feed is handled by the main script.js
    </script>
    
    
</body>
</html>

