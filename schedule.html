<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <meta http-equiv="Cache-Control" content="no-cache, no-store, must-revalidate">
    <meta http-equiv="Pragma" content="no-cache">
    <meta http-equiv="Expires" content="0">
    <title>Schedule - SamudraFM</title>
    <meta name="description" content="Check out our live radio schedule and upcoming shows on SamudraFM.">
    
    <!-- Open Graph / Facebook / WhatsApp -->
    <meta property="og:type" content="website">
    <meta property="og:url" content="https://samudrafm.com/schedule">
    <meta property="og:title" content="Schedule - SamudraFM">
    <meta property="og:description" content="Check out our live radio schedule and upcoming shows on SamudraFM.">
    <meta property="og:image" content="https://samudrafm.com/images/SamudraFMLogo1.png">
    <meta property="og:site_name" content="SamudraFM">
    
    <!-- Twitter -->
    <meta property="twitter:card" content="summary_large_image">
    <meta property="twitter:url" content="https://samudrafm.com/schedule">
    <meta property="twitter:title" content="Schedule - SamudraFM">
    <meta property="twitter:description" content="Check out our live radio schedule and upcoming shows on SamudraFM.">
    <meta property="twitter:image" content="https://samudrafm.com/images/SamudraFMLogo1.png">
    
    <!-- Additional meta tags -->
    <meta name="theme-color" content="#1a1a1a">
    <meta name="msapplication-TileColor" content="#1a1a1a">
    <meta name="msapplication-TileImage" content="https://samudrafm.com/images/SamudraFMLogo1.png">
    
    <!-- Prevent caching -->
    <meta http-equiv="Cache-Control" content="no-cache, no-store, must-revalidate">
    <meta http-equiv="Pragma" content="no-cache">
    <meta http-equiv="Expires" content="0">
    
    <!-- Content Security Policy -->
    <meta http-equiv="Content-Security-Policy" content="default-src 'self'; script-src 'self' 'unsafe-inline' https://cdnjs.cloudflare.com blob: https://widget.mixcloud.com https://www.googleapis.com; style-src 'self' 'unsafe-inline' https://fonts.googleapis.com https://cdnjs.cloudflare.com; font-src 'self' https://fonts.gstatic.com https://cdnjs.cloudflare.com; img-src 'self' data: https:; connect-src 'self' https://www.googleapis.com https://api.mixcloud.com https://widget.mixcloud.com; frame-src 'self' https://www.mixcloud.com https://widget.mixcloud.com https://player-widget.mixcloud.com;">
    
    <link rel="preconnect" href="https://fonts.googleapis.com">
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
    <link href="https://fonts.googleapis.com/css2?family=Inter:wght@300;400;600;700;800&display=swap" rel="stylesheet">
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.0/css/all.min.css" integrity="sha512-iecdLmaskl7CVkqkXNQ/ZH/XLlvWZOJyj7Yy7tcenmpD1ypASozpmT/E0iPtmFIB46ZmdtAc9eNBvH0H/ZpiBw==" crossorigin="anonymous" referrerpolicy="no-referrer">
    <link rel="stylesheet" href="styles.css?v=1734575000">
    
    <!-- Force schedule layout changes -->
    <style>
        .schedule-item {
            background: #1d283c !important;
            border: none !important;
            border-radius: 10px !important;
            padding: 0 !important;
            display: flex !important;
            align-items: stretch !important;
            gap: 0 !important;
            margin-bottom: 24px !important;
            min-height: auto !important;
            width: 100% !important;
        }
        
        .schedule-image {
            display: none !important;
            padding: 32px !important;
            border-radius: 10px !important;
            border: none !important;
            flex-shrink: 0 !important;
        }
        
        /* Show presenter images on tablet and larger screens */
        @media (min-width: 768px) {
            .schedule-image {
                display: flex !important;
                padding: 20px !important;
            }
            .schedule-image img {
                width: 80px !important;
                height: 80px !important;
            }
        }
        
        .schedule-image img {
            width: 120px !important;
            height: 120px !important;
            object-fit: cover !important;
            border-radius: 10px !important;
            aspect-ratio: 1 !important;
        }
        
        .schedule-content {
            flex: 1 !important;
            display: flex !important;
            flex-direction: column !important;
            justify-content: flex-start !important;
            padding: 16px 0 !important;
            padding-left: 0 !important;
            padding-right: 0 !important;
            min-height: 100px !important;
            position: relative !important;
        }
        
             .presenter-name {
                 font-size: 33px !important;
                 font-weight: bold !important;
                 color: white !important;
                 margin: 0 !important;
                 text-overflow: ellipsis !important;
                 overflow: hidden !important;
                 white-space: nowrap !important;
             }
        
        .show-title {
            font-size: 18px !important;
            font-weight: normal !important;
            color: white !important;
            margin: 0 !important;
            line-height: 1.2 !important;
            margin-top: 8px !important;
            display: block !important;
        }
        
        
        .schedule-actions {
            display: flex !important;
            align-items: flex-end !important;
            gap: 10px !important;
            margin-top: auto !important;
            font-size: 18px !important;
            line-height: 0 !important;
            position: absolute !important;
            bottom: 16px !important;
            left: 0 !important;
            right: 0 !important;
        }
        
        .action-btn {
            background: none !important;
            border: none !important;
            color: white !important;
            opacity: 0.25 !important;
            width: 32px !important;
            height: 32px !important;
            display: flex !important;
            align-items: center !important;
            justify-content: center !important;
            pointer-events: none !important;
        }
        
             .schedule-time {
                 background: linear-gradient(135deg, #2a2a3e 0%, #434366 100%) !important;
                 padding: 20px !important;
                 font-weight: 300 !important;
                 color: #ffffff !important;
                 font-size: 18px !important;
                 width: auto !important;
                 margin-left: auto !important;
                 border-radius: 0 10px 10px 0 !important;
                 box-shadow: inset 0 1px 3px rgba(0, 0, 0, 0.3) !important;
                 min-width: 120px !important;
                 display: flex !important;
                 align-items: center !important;
                 justify-content: center !important;
             }
        
        .time-slot {
            background: none !important;
            color: inherit !important;
            padding: 0 !important;
            border-radius: 0 !important;
            font-size: inherit !important;
            font-weight: inherit !important;
            display: flex !important;
            align-items: center !important;
            justify-content: center !important;
            gap: 8px !important;
            flex-direction: column !important;
            text-align: center !important;
        }
        
        /* Mobile-specific design using coming up section styling */
        @media (max-width: 768px) {
            .schedule-item {
                /* Use coming up card design on mobile */
                display: flex !important;
                flex-direction: row !important;
                align-items: center !important;
                gap: 16px !important;
                padding: 18px !important;
                min-height: 110px !important; /* Increased to accommodate 2-line show titles */
                background: var(--panel, #1d283c) !important;
                border: 1px solid var(--border, rgba(255,255,255,0.1)) !important;
                border-radius: var(--radius, 10px) !important;
                margin-bottom: 14px !important;
                position: relative !important;
                box-shadow: var(--shadow, 0 2px 8px rgba(0,0,0,0.1)) !important;
                transition: transform 0.2s ease !important;
            }
            
            .schedule-item:hover {
                transform: translateY(-2px) !important;
            }
            
            /* Show presenter image on mobile like coming up cover */
            .schedule-image {
                display: flex !important;
                flex: 0 0 80px !important;
                max-width: 80px !important;
                padding: 0 !important;
                align-items: center !important;
                justify-content: center !important;
            }
            
            .schedule-image img {
                width: 80px !important;
                height: 80px !important;
                object-fit: cover !important;
                border-radius: 16px !important;
                flex-shrink: 0 !important;
            }
            
            .schedule-content {
                flex: 1 !important;
                min-width: 0 !important;
                padding: 0 !important;
                display: flex !important;
                flex-direction: column !important;
                align-items: flex-start !important;
                justify-content: center !important;
                min-height: auto !important;
                position: static !important;
                text-align: left !important; /* Ensure all text aligns left */
            }
            
            .presenter-name {
                font-size: 16px !important;
                font-weight: 600 !important;
                color: var(--text, white) !important;
                margin: 0 0 4px 0 !important;
                line-height: 1.2 !important;
                text-overflow: ellipsis !important;
                overflow: hidden !important;
                white-space: nowrap !important;
                max-width: calc(100% - 15px) !important; /* Account for time badge */
                padding-right: 5px !important;
                text-align: left !important; /* Ensure left alignment */
            }
            
            .show-title {
                font-size: 14px !important;
                font-weight: 400 !important;
                color: var(--muted, rgba(255,255,255,0.7)) !important;
                margin: 0 !important;
                line-height: 1.3 !important;
                /* Allow 2-line wrapping instead of ellipsis */
                white-space: normal !important;
                overflow: hidden !important;
                display: -webkit-box !important;
                -webkit-line-clamp: 2 !important;
                -webkit-box-orient: vertical !important;
                line-clamp: 2 !important;
                max-width: calc(100% - 15px) !important; /* Account for time badge */
                padding-right: 5px !important;
                max-height: calc(1.3em * 2) !important; /* Limit to 2 lines */
                text-align: left !important; /* Ensure left alignment */
            }
            
            /* Hide social actions on mobile */
            .schedule-actions {
                display: none !important;
            }
            
            /* Time display styled like coming up time badge */
            .schedule-time {
                position: absolute !important;
                right: 16px !important;
                top: 50% !important;
                transform: translateY(-50%) !important;
                background: #220660 !important; /* Changed to requested purple color */
                color: white !important;
                padding: 8px 10px !important; /* Adjusted for 3-line layout */
                border-radius: 8px !important;
                text-align: center !important;
                min-width: 65px !important; /* Slightly smaller for better fit */
                font-size: 12px !important;
                font-weight: 500 !important;
                box-shadow: 0 2px 8px rgba(34, 6, 96, 0.3) !important; /* Updated shadow to match new color */
                border: none !important;
                margin: 0 !important;
                width: auto !important;
                flex-shrink: 0 !important;
                min-height: 50px !important; /* Ensure enough height for 3 lines */
            }
            
            .time-slot {
                display: flex !important;
                flex-direction: column !important;
                align-items: center !important;
                justify-content: center !important;
                gap: 1px !important;
                text-align: center !important;
                line-height: 1.1 !important;
            }
            
            /* Remove the dash/after content from time slot on mobile */
            .time-slot > div:first-child::after {
                display: none !important;
                content: none !important;
            }
            
            /* Date display (e.g., "7 Oct") */
            .date-day {
                font-size: 11px !important;
                font-weight: 600 !important;
                line-height: 1.1 !important;
                margin-bottom: 1px !important;
            }
            
            /* Day display (e.g., "Tuesday") */
            .time-slot .day-name {
                font-size: 9px !important;
                font-weight: 500 !important;
                line-height: 1.1 !important;
                opacity: 0.9 !important;
                margin-bottom: 1px !important;
            }
            
            /* Time range display (e.g., "08:50—07:20") */
            .time-range {
                font-size: 9px !important;
                opacity: 0.9 !important;
                font-weight: 400 !important;
                line-height: 1.1 !important;
            }
            
            /* Ensure content doesn't overlap with time badge */
            .schedule-content {
                margin-right: 100px !important; /* Increased space for time badge */
                padding-right: 10px !important; /* Additional padding for safety */
            }
            
        }
        
        @media (min-width: 1280px) {
            .schedule-image {
                display: flex !important;
                padding: 32px !important;
            }
            .schedule-image img {
                width: 120px !important;
                height: 120px !important;
            }
            .schedule-content {
                padding: 32px !important;
                padding-left: 0 !important;
            }
            .schedule-actions {
                bottom: 32px !important;
            }
            .schedule-time {
                padding: 40px 60px !important;
                width: 320px !important;
                font-size: 32px !important;
                min-width: 200px !important;
            }
        .time-range {
            font-size: 0.6em !important;
        }
    }
    
    /* Player styling to match schedule items */
    .hero-player-section {
        padding: 40px 0 20px 0;
    }
    
    .hero-latest {
        background: #1d283c !important;
        border-radius: 10px !important;
        overflow: hidden !important;
        color: white !important;
        margin: 0 auto !important;
        padding: 20px !important;
        max-width: 100% !important; /* Allow full width instead of 800px limit */
        width: 100% !important;
    }
    
    /* Player layout */
    .hero-latest .player-content-row {
        display: flex !important;
        align-items: center !important;
        gap: 20px !important;
    }
    
    .hero-latest .player-left {
        flex: 0 0 80px !important;
        max-width: 80px !important;
        position: relative !important;
    }
    
    .hero-latest .hero-latest-cover {
        width: 80px !important;
        height: 80px !important;
        border-radius: 8px !important;
    }
    
    .hero-latest .play-overlay {
        border-radius: 8px !important;
    }
    
    .hero-latest .player-right {
        flex: 1 !important;
        min-width: 0 !important;
    }
    
    /* Mobile player design matching home page */
    @media (max-width: 768px) {
        .hero-player-section {
            padding: 20px 0 10px 0;
        }
        
        /* Hero latest panel - full width layout like home page */
        .hero-latest {
            display: flex !important;
            flex-direction: column !important;
            gap: 8px !important;
            min-height: auto !important;
            margin: 24px 0 4px 0 !important;
            padding: 16px !important;
            width: 100% !important;
            max-width: 100% !important;
        }

        /* Player widget - full width like home page */
        .hero-latest .player-widget {
            width: 100% !important;
            min-height: 120px !important;
            display: flex !important;
            flex-direction: column !important;
            gap: 12px !important;
            padding: 12px !important;
        }
        
        /* Mobile player content row like home page */
        .hero-latest .player-content-row {
            display: flex !important;
            align-items: center !important;
            gap: 16px !important;
            flex: 1 !important;
        }

        /* Player left - 50/50 layout like home page */
        .hero-latest .player-left {
            flex: 0 0 50% !important;
            max-width: 50% !important;
            aspect-ratio: 1 !important;
        }
        
        /* Player right - 50/50 layout like home page */
        .hero-latest .player-right {
            flex: 0 0 50% !important;
            max-width: 50% !important;
        }

        /* Cover styling like home page */
        .hero-latest .hero-latest-cover {
            width: 100% !important;
            height: 100% !important;
            border-radius: 10px !important;
        }

        /* Play overlay like home page */
        .hero-latest .play-overlay {
            pointer-events: auto !important;
            border-radius: 10px !important;
        }

        /* Play button like home page */
        .hero-latest .play-pause-btn {
            width: 60px !important;
            height: 60px !important;
            font-size: 42px !important;
            background: transparent !important;
            color: white !important;
        }
        
        /* Player content area - more compact like home page */
        .hero-latest .player-content {
            flex: 1 !important;
            min-width: 0 !important;
            padding-left: 12px !important;
            max-width: 100% !important;
            overflow: hidden !important;
            box-sizing: border-box !important;
        }
        
        .hero-latest .player-content h3 {
            font-size: 16px !important;
            margin: 0 0 4px !important;
            line-height: 1.2 !important;
        }
        
        .hero-latest .player-content p {
            font-size: 12px !important;
            margin: 0 0 8px !important;
            opacity: 0.8 !important;
        }
        
        /* Player controls - align with progress bar */
        .hero-latest .player-controls {
            display: flex !important;
            align-items: center !important;
            gap: 6px !important;
            margin-top: 8px !important;
            width: 100% !important; /* Full width like progress bar */
            max-width: 100% !important;
            box-sizing: border-box !important;
            padding: 0 !important; /* No padding to match progress bar */
            overflow: visible !important;
            position: relative !important;
        }
        
        .hero-latest .volume-control {
            flex: 1 !important;
            min-width: 0 !important;
            max-width: calc(100% - 42px) !important; /* Reserve exact space for button */
            overflow: visible !important;
            box-sizing: border-box !important;
            position: relative !important;
            margin-right: 6px !important; /* Gap before button */
        }
        
        .hero-latest .volume-slider {
            width: 100% !important; /* Full width within container */
            max-width: 100% !important;
            height: 4px !important;
            -webkit-appearance: none !important;
            appearance: none !important;
            background: transparent !important;
            cursor: pointer !important;
            border: none !important;
            outline: none !important;
            margin: 0 !important;
            padding: 0 !important;
            box-sizing: border-box !important;
            position: relative !important;
            z-index: 1 !important;
        }
        
        /* Volume slider track styling */
        .hero-latest .volume-slider::-webkit-slider-track {
            background: rgba(255, 255, 255, 0.2) !important;
            height: 4px !important;
            border-radius: 2px !important;
            border: none !important;
            box-shadow: none !important;
        }
        
        /* Volume slider thumb styling */
        .hero-latest .volume-slider::-webkit-slider-thumb {
            -webkit-appearance: none !important;
            appearance: none !important;
            width: 12px !important;
            height: 12px !important;
            border-radius: 50% !important;
            background: white !important;
            border: none !important;
            box-shadow: 0 1px 3px rgba(0,0,0,0.3) !important;
            cursor: pointer !important;
        }
        
        /* Firefox volume slider styling */
        .hero-latest .volume-slider::-moz-range-track {
            background: rgba(255, 255, 255, 0.2) !important;
            height: 4px !important;
            border-radius: 2px !important;
            border: none !important;
        }
        
        .hero-latest .volume-slider::-moz-range-thumb {
            width: 12px !important;
            height: 12px !important;
            border-radius: 50% !important;
            background: white !important;
            border: none !important;
            box-shadow: 0 1px 3px rgba(0,0,0,0.3) !important;
            cursor: pointer !important;
        }
        
        /* Ensure buttons don't cause overflow */
        .hero-latest .btn {
            flex-shrink: 0 !important;
            max-width: 40px !important; /* Smaller button for more slider space */
            width: 40px !important;
            white-space: nowrap !important;
            font-size: 9px !important; /* Even smaller font */
            padding: 3px 4px !important; /* Minimal padding */
            margin: 0 !important;
            text-overflow: ellipsis !important;
            overflow: hidden !important;
        }
        
        /* Container constraints to prevent overflow */
        .hero-latest .player-right {
            overflow: visible !important; /* Allow slider thumb to show */
            box-sizing: border-box !important;
            max-width: 50% !important; /* Enforce 50% width */
            position: relative !important;
            padding: 0 !important; /* No padding to match progress bar alignment */
        }
        
        /* Additional safety for player content */
        .hero-latest .player-content {
            padding-right: 0 !important; /* No extra padding for alignment */
        }
        
        /* Mobile progress bar - full width below cover like home page */
        .hero-latest .player-widget > .progress-container {
            order: 10 !important;
            width: 100% !important;
            margin-top: 8px !important;
        }
        
        /* Hide desktop progress bar on mobile */
        .hero-latest .player-right .progress-container {
            display: none !important;
        }
        
        /* Adjust schedule section padding on mobile */
        .schedule-section {
            padding-top: 20px !important; /* Reduced from default 60px */
            padding-bottom: 0px !important; /* Remove bottom padding on mobile */
        }
    }
    
    /* Tablet and small desktop player - 768px to 1024px */
    @media (min-width: 769px) and (max-width: 1023px) {
        /* Use same container width as schedule-list */
        .hero-player-section .container {
            /* Remove overrides - use default container styling */
            box-sizing: border-box !important;
        }
        
        .hero-player-section {
            padding: 40px 0 20px 0 !important;
        }
        
        .hero-latest {
            padding: 20px !important;
            margin: 0 !important;
            box-sizing: border-box !important;
        }
        
        .hero-latest .player-widget {
            width: 100% !important;
            max-width: none !important;
            display: flex !important;
            flex-direction: row !important;
            align-items: center !important;
            gap: 16px !important;
            padding: 16px !important;
            box-sizing: border-box !important;
        }
        
        .hero-latest .player-content-row {
            display: flex !important;
            width: 100% !important;
            max-width: none !important;
            flex-direction: row !important;
            align-items: center !important;
            gap: 16px !important;
            margin: 0 !important;
            padding: 0 !important;
            box-sizing: border-box !important;
            flex: 1 !important;
        }
        
        .hero-latest .player-content-row .player-left {
            flex: 0 0 80px !important;
            max-width: 80px !important;
            min-width: 80px !important;
            width: 80px !important;
        }
        
        .hero-latest .player-content-row .player-right {
            flex: 1 !important;
            width: calc(100% - 96px) !important; /* Full width minus cover (80px) and gap (16px) */
            max-width: none !important;
            min-width: 0 !important;
            display: flex !important;
            flex-direction: column !important;
            justify-content: center !important;
            gap: 10px !important;
        }
        
        .hero-latest .player-content-row .player-right .player-info,
        .hero-latest .player-content-row .player-right .player-controls,
        .hero-latest .player-content-row .player-right .progress-container {
            width: 100% !important;
            max-width: none !important;
        }
        
        /* Hide mobile progress bar on tablet */
        .hero-latest .player-widget > .progress-container {
            display: none !important;
        }
        
        /* Show desktop progress bar in player-right on tablet */
        .hero-latest .player-content-row .player-right .progress-container {
            display: block !important;
        }
    }
    
    @media (min-width: 1024px) {
         /* Use same container width as schedule-list */
         .hero-player-section .container {
             /* Remove overrides - use default container styling */
             box-sizing: border-box !important;
         }
         
         .hero-player-section {
             padding: 40px 0 20px 0 !important;
         }
         
         /* Match home page hero-latest styling exactly */
         .hero-latest {
             display: grid !important;
             grid-template-columns: 1fr !important;
             gap: 12px !important;
             position: relative !important;
             background: rgba(255,255,255,0.1) !important;
             backdrop-filter: blur(20px) !important;
             -webkit-backdrop-filter: blur(20px) !important;
             border-radius: var(--radius) !important;
             padding: 20px !important;
             margin: 20px 0 !important;
             border: 1px solid rgba(255,255,255,0.2) !important;
             box-shadow: 0 8px 32px rgba(0,0,0,0.2), inset 0 1px 0 rgba(255,255,255,0.1) !important;
         }
         
         /* Match home page player-widget styling exactly */
         .hero-latest .player-widget {
             position: relative !important;
             z-index: 10 !important;
             background: #21055f !important; /* Solid purple background - 100% opacity */
             border-radius: var(--radius) !important;
             box-shadow: var(--shadow) !important;
             display: flex !important;
             gap: 16px !important;
             align-items: center !important;
             padding: 16px !important;
             width: 100% !important;
             max-width: none !important;
             max-height: 212px !important; /* Set maximum height for desktop */
             box-sizing: border-box !important;
         }
         
         /* Match home page player-left styling but fit within widget */
         .hero-latest .player-left {
             position: relative !important;
             flex: 0 0 auto !important;
             width: 180px !important; /* Fixed width to fit within 212px height widget */
             height: 180px !important; /* Fixed height to fit within widget with padding */
             max-width: 180px !important;
             max-height: 180px !important;
             min-width: 180px !important;
             min-height: 180px !important;
         }
         
         /* Match home page hero-latest-cover styling exactly */
         .hero-latest .hero-latest-cover {
             width: 100% !important;
             height: 100% !important;
             border-radius: 12px !important;
             background-size: cover !important;
             background-position: center !important;
             background-repeat: no-repeat !important;
             image-rendering: high-quality !important;
             image-rendering: -webkit-optimize-contrast !important;
         }
         
         /* Match home page play-overlay styling exactly */
         .hero-latest .play-overlay {
             position: absolute !important;
             top: 0 !important;
             left: 0 !important;
             right: 0 !important;
             bottom: 0 !important;
             background: rgba(0,0,0,0.2) !important;
             border-radius: 12px !important;
             display: flex !important;
             align-items: center !important;
             justify-content: center !important;
             opacity: 1 !important;
             transition: opacity 0.2s !important;
             pointer-events: none !important;
         }
         
         /* Match home page play-pause-btn styling exactly */
         .hero-latest .play-pause-btn {
             background: transparent !important;
             border: none !important;
             width: 64px !important;
             height: 64px !important;
             display: flex !important;
             align-items: center !important;
             justify-content: center !important;
             cursor: pointer !important;
             transition: all 0.3s cubic-bezier(0.4, 0, 0.2, 1) !important;
             pointer-events: auto !important;
             z-index: 10 !important;
             position: relative !important;
             line-height: 1 !important;
             touch-action: manipulation !important;
             -webkit-tap-highlight-color: transparent !important;
             user-select: none !important;
             font-size: 48px !important;
             color: white !important;
             font-weight: bold !important;
         }
         
         .hero-latest .play-pause-btn:hover {
             transform: scale(1.08) !important;
         }
         
         .hero-latest .play-pause-btn:active {
             transform: scale(0.95) !important;
         }
         
         /* Match home page player-right styling exactly */
         .hero-latest .player-right {
             flex: 1 !important;
             min-width: 0 !important;
             max-width: 65% !important;
         }
         
         /* Match home page player-info styling exactly */
         .hero-latest .player-info {
             margin-bottom: 12px !important;
         }
         
         /* Match home page track title and artist styling exactly */
         .hero-latest .track-title {
             font-size: 18px !important;
             font-weight: 700 !important;
             margin: 0 !important;
             color: var(--text) !important;
         }
         
         .hero-latest .track-artist {
             font-size: 14px !important;
             color: var(--muted) !important;
             margin: 0 !important;
         }
         
         /* Match home page player-controls styling exactly */
         .hero-latest .player-controls {
             display: flex !important;
             align-items: center !important;
             justify-content: space-between !important;
             margin-bottom: 12px !important;
         }
         
         /* Hide mobile progress bar on desktop */
         .hero-latest .player-widget > .progress-container {
             display: none !important;
         }
         
         /* Show desktop progress bar in player-right */
         .hero-latest .player-right .progress-container {
             display: block !important;
         }
         
         /* Ensure player content row doesn't interfere on desktop - match home page */
         .hero-latest .player-content-row {
             display: contents !important;
         }
    }
    
    /* Social Media Button Styles */
    .action-btn {
        background: none !important;
        border: none !important;
        color: white !important;
        opacity: 0.15 !important;
        cursor: not-allowed !important;
        transition: all 0.2s ease !important;
        display: flex !important;
        align-items: center !important;
        justify-content: center !important;
        width: 32px !important;
        height: 32px !important;
        pointer-events: none !important;
        padding: 0 !important;
        text-decoration: none !important;
    }
    
    .action-btn:hover {
        opacity: 1 !important;
        color: var(--accent, #4a2c8a) !important;
    }
    
    .action-btn.active {
        opacity: 1 !important;
        color: var(--accent, #4a2c8a) !important;
        cursor: pointer !important;
        pointer-events: auto !important;
    }
    
    .action-btn.active:hover {
        color: var(--live, #ff6b6b) !important;
        transform: scale(1.1) !important;
    }
    
    .action-btn.disabled {
        opacity: 0.15 !important;
        cursor: not-allowed !important;
        pointer-events: none !important;
    }
    </style>
    
    <!-- Favicon -->
    <link rel="icon" type="image/png" href="images/SamudraFMLogo1.png">
    <link rel="apple-touch-icon" href="images/SamudraFMLogo1.png">
    <link rel="shortcut icon" href="images/SamudraFMLogo1.png">
</head>
<body>
    <header class="site-header">
        <div class="container header-inner">
            <a href="/" class="brand" aria-label="SamudraFM Home">
                <span class="brand-mark">Samudra<span>FM</span></span>
                <span class="brand-subtitle">SMK Taman SEA school radio programme</span>
            </a>
            <nav class="nav" aria-label="primary">
                <button class="nav-toggle" aria-expanded="false" aria-controls="nav-menu">☰</button>
                <ul id="nav-menu" class="nav-list">
                    <li><a href="/">home</a></li>
                    <li><a href="/schedule" class="active">schedule</a></li>
                    <li><a href="/team">our team</a></li>
                    <li><a href="/about">about</a></li>
                    <li><a href="/contact">contact</a></li>
                </ul>
            </nav>
        </div>
    </header>

    <main class="site-main">
        <!-- Player Section -->
        <section class="hero-player-section">
            <div class="container">
                <div class="panel hero-latest" id="hero-latest">
                    <div class="player-widget">
                        <div class="player-content-row">
                            <div class="player-left">
                                <div class="hero-latest-cover cover placeholder" id="player-cover"></div>
                                <div class="play-overlay" id="play-overlay">
                                    <button class="play-pause-btn" id="hero-play-pause"><i class="fa-solid fa-pause"></i></button>
                                </div>
                            </div>
                            <div class="player-right">
                                <div class="player-info">
                                    <h3 id="hero-ep-title" class="track-title">Loading…</h3>
                                    <p id="hero-ep-artist" class="track-artist">SamudraFM</p>
                                </div>
                                <div class="player-controls">
                                    <div class="volume-control">
                                        <span class="volume-icon">🔊</span>
                                        <div class="volume-slider">
                                            <div class="volume-bar">
                                                <div class="volume-fill" style="width: 80%"></div>
                                                <div class="volume-handle"></div>
                                            </div>
                                        </div>
                                    </div>
                                    <a id="hero-open" class="request-btn" href="request.html" target="_blank" rel="noopener">Send a request</a>
                                </div>
                                
                                <!-- Progress Bar for Desktop -->
                                <div class="progress-container">
                                    <div class="progress" id="progress-bar-desktop">
                                        <div id="hero-progress-desktop" class="bar" style="width:0%"></div>
                                        <div class="progress-handle" id="progress-handle-desktop"></div>
                                    </div>
                                    <div class="time-display">
                                        <span id="current-time-desktop">0:00</span>
                                        <span id="total-time-desktop">0:00</span>
                                    </div>
                                </div>
                            </div>
                        </div>
                        
                        <!-- Progress Bar - Full Width on Mobile -->
                        <div class="progress-container">
                            <div class="progress" id="progress-bar">
                                <div id="hero-progress" class="bar" style="width:0%"></div>
                                <div class="progress-handle" id="progress-handle"></div>
                            </div>
                            <div class="time-display">
                                <span id="current-time">0:00</span>
                                <span id="total-time">0:00</span>
                            </div>
                        </div>
                    </div>
                    <div class="hero-embed" hidden></div>
                </div>
            </div>
        </section>

        <section class="hero-section" id="schedule">
            <div class="container">
                <div class="hero-content">
                    <h1>Live Radio Schedule</h1>
                    <p>Check out our upcoming shows and live broadcasts</p>
                </div>
            </div>
        </section>

        <!-- Mixcloud Player Container -->
        <div id="mixcloud-player-container" style="position: fixed; bottom: -400px; left: 0; right: 0; height: 400px; background: #1a1a1a; z-index: 1000; transition: bottom 0.3s ease;">
            <div id="mixcloud-player" style="width: 100%; height: 100%;"></div>
        </div>

        <section class="schedule-section">
            <div class="container">
                
                
                <div class="schedule-list" id="schedule-list">
                    <!-- Schedule items will be loaded here -->
                </div>
            </div>
        </section>
    </main>

    <footer class="site-footer" id="about">
        <div class="footer-content">
            <div class="footer-column">
                <div class="footer-logo">
                    <img src="assets/brandmark/SamudraFMLogo1.png" alt="SamudraFM Logo" />
                </div>
                <h2 class="footer-brand-title">SamudraFM</h2>
                <p class="footer-description">
                    Non-Profit Organization. Fully volunteer-run<br>
                    school of SMK Taman SEA radio station.
                </p>
                <p class="footer-programme">
                    Our programme is a recreational school radio initiative, designed to give students hands-on broadcasting experience while exploring creativity in music, events, and radio production.
                </p>
            </div>
            
            <div class="footer-column">
                <h3>Connect & Listen</h3>
                <ul class="footer-links social-links">
                    <li><a href="https://www.instagram.com/samudrafm/" class="social-link"><i class="fab fa-instagram"></i> Instagram</a></li>
                    <li><a href="https://www.facebook.com/SamudraFMSMKTS" class="social-link"><i class="fab fa-facebook"></i> Facebook</a></li>
                    <li><a href="https://www.mixcloud.com/SamudraFM/" class="social-link"><i class="fab fa-mixcloud"></i> Mixcloud</a></li>
                </ul>
            </div>
            
            <div class="footer-column">
                <h3>Legal</h3>
                <ul class="footer-links">
                    <li><a href="privacy-policy.html">Privacy Policy</a></li>
                </ul>
            </div>
        </div>
        
        <div class="footer-separator"></div>
        
        <div class="footer-bottom">
            <p>© 2025 SamudraFM. Designed with passion by Jensen Lim Zi Jen 📻</p>
        </div>
    </footer>

    <script>
        // Pagination variables - declare at the top
        let displayedCount = 4; // Show 4 initially
        let loadMoreCount = 2; // Load 2 more each time
        let allScheduleData = []; // Store all data
        let currentDisplayed = 0; // Track how many are currently displayed
        
        // Force cache busting
        function forceCacheBust() {
            const links = document.querySelectorAll('link[rel="stylesheet"]');
            links.forEach(link => {
                const href = link.href;
                if (href.includes('styles.css')) {
                    link.href = href.split('?')[0] + '?v=' + Date.now();
                }
            });
        }
        
        // Initialize schedule page
        document.addEventListener('DOMContentLoaded', function() {
            try {
                // Schedule page loaded with pagination support
                // Pagination variables initialized
                forceCacheBust();
                
                // Force hard refresh if needed
                if (window.location.search.includes('force=1')) {
                    window.location.reload(true);
                    return;
                }
                
                loadScheduleData();
            } catch (error) {
                //console.error('Error initializing schedule page:', error);
            }
        });
        
        // Profile picture mapping is defined in script.js

        // Social media mapping
        const socialMediaLinks = {
            'JensenL': {
                instagram: 'https://www.instagram.com/jensen_lzj/',
                twitter: '#',
                facebook: '#',
                youtube: '#'
            },
            'Jensen': {
                instagram: 'https://www.instagram.com/jensen_lzj/',
                twitter: '#',
                facebook: '#',
                youtube: '#'
            },
            'JensenLim': {
                instagram: 'https://www.instagram.com/jensen_lzj/',
                twitter: '#',
                facebook: '#',
                youtube: '#'
            },
            'Jensen Lim': {
                instagram: 'https://www.instagram.com/jensen_lzj/',
                twitter: '#',
                facebook: '#',
                youtube: '#'
            },
            'Jensen L': {
                instagram: 'https://www.instagram.com/jensen_lzj/',
                twitter: '#',
                facebook: '#',
                youtube: '#'
            }
        };
        
        // Function to get social media links for a presenter
        function getSocialMediaLinks(presenterName) {
            const cleanName = presenterName.trim();
            return socialMediaLinks[cleanName] || {
                instagram: '#',
                twitter: '#',
                facebook: '#',
                youtube: '#'
            };
        }

        // Profile picture functions are defined in script.js
        
        // Load schedule data
        async function loadScheduleData() {
            const scheduleContainer = document.getElementById('schedule-list');
            if (!scheduleContainer) return;
            
            // Show loading state
            scheduleContainer.innerHTML = '<p style="text-align: center; color: var(--muted);">Loading schedule...</p>';
            
            try {
                // Loading schedule data...
                
                // Try to load from Google Calendar first
                const events = await loadGoogleCalendarEvents();
                // Google Calendar events loaded
                
                if (events && events.length > 0) {
                    // Using Google Calendar data
                    // Google Calendar events processed
                    allScheduleData = events;
                    renderScheduleItemsPaginated(scheduleContainer);
                    return;
                } else {
                    // No Google Calendar events found, using fallback data
                }
                
                // Fallback to presenters.json
                const response = await fetch('presenters.json');
                if (response.ok) {
                    const data = await response.json();
                    if (data.events && data.events.length > 0) {
                        // Map the events to the correct format
                        const mappedEvents = data.events.map(event => {
                            const presenter = event.presenter || event.title || 'TBA';
                            return {
                                presenter: presenter,
                                show: event.description || event.show || 'Special Show',
                                startTime: event.startTime || '10:00',
                                endTime: event.endTime || '11:00',
                                image: getProfilePicture(presenter)
                            };
                        });
                        allScheduleData = mappedEvents;
                        renderScheduleItemsPaginated(scheduleContainer);
                        return;
                    }
                }
                
                // Fallback to mock data (images will be auto-detected)
                const today = new Date();
                const tomorrow = new Date(today);
                tomorrow.setDate(tomorrow.getDate() + 1);
                const dayAfter = new Date(today);
                dayAfter.setDate(dayAfter.getDate() + 2);
                
                const mockSchedule = [
                    {
                        presenter: "Marcus",
                        show: "The Dance-floor",
                        startTime: "01:00",
                        endTime: "03:00",
                        date: today.toLocaleDateString('en-GB', { day: 'numeric', month: 'short' }),
                        day: today.toLocaleDateString('en-GB', { weekday: 'long' })
                    },
                    {
                        presenter: "Jess & James",
                        show: "The Odd Show",
                        startTime: "03:00",
                        endTime: "05:00",
                        date: today.toLocaleDateString('en-GB', { day: 'numeric', month: 'short' }),
                        day: today.toLocaleDateString('en-GB', { weekday: 'long' })
                    },
                    {
                        presenter: "JensenL",
                        show: "A Wee Mystical Magical Show",
                        startTime: "06:50",
                        endTime: "07:20",
                        date: tomorrow.toLocaleDateString('en-GB', { day: 'numeric', month: 'short' }),
                        day: tomorrow.toLocaleDateString('en-GB', { weekday: 'long' })
                    },
                    {
                        presenter: "Lana",
                        show: "The Night Shift With Lana",
                        startTime: "05:00",
                        endTime: "07:00",
                        date: tomorrow.toLocaleDateString('en-GB', { day: 'numeric', month: 'short' }),
                        day: tomorrow.toLocaleDateString('en-GB', { weekday: 'long' })
                    },
                    {
                        presenter: "Jessica",
                        show: "Sunday mornings with Jessica!",
                        startTime: "14:00",
                        endTime: "16:00",
                        date: dayAfter.toLocaleDateString('en-GB', { day: 'numeric', month: 'short' }),
                        day: dayAfter.toLocaleDateString('en-GB', { weekday: 'long' })
                    },
                    {
                        presenter: "Niv",
                        show: "Tunes & Coffee!",
                        startTime: "17:00",
                        endTime: "18:00",
                        date: dayAfter.toLocaleDateString('en-GB', { day: 'numeric', month: 'short' }),
                        day: dayAfter.toLocaleDateString('en-GB', { weekday: 'long' })
                    },
                    {
                        presenter: "Gavin",
                        show: "Sunday already?!",
                        startTime: "18:00",
                        endTime: "19:00",
                        date: dayAfter.toLocaleDateString('en-GB', { day: 'numeric', month: 'short' }),
                        day: dayAfter.toLocaleDateString('en-GB', { weekday: 'long' })
                    }
                ];
                // Using mock data
                // Mock schedule loaded
                allScheduleData = mockSchedule;
                renderScheduleItemsPaginated(scheduleContainer);
                
            } catch (error) {
                //console.error('Error loading schedule:', error);
                scheduleContainer.innerHTML = '<p style="text-align: center; color: var(--muted);">Unable to load schedule. Please try again later.</p>';
            }
        }
        
        // Render schedule items in the new format
        function renderScheduleItems(items, container) {
            if (!items || items.length === 0) {
                container.innerHTML = '<p style="text-align: center; color: var(--muted); font-style: italic; padding: 40px 20px;">oh oo! future shows are not yet added :(</p>';
                return;
            }
            
            // Rendering schedule items
            
            const scheduleHTML = items.map((item, index) => {
                // Ensure all required fields have fallback values
                const presenter = item.presenter || item.title || 'TBA';
                const show = item.show || item.description || 'Special Show';
                const startTime = item.startTime || '10:00';
                const endTime = item.endTime || '11:00';
                
                // Use profile picture detection or fallback to provided image
                const image = item.image || getProfilePicture(presenter);
                
                // Get social media links for this presenter
                const socialLinks = getSocialMediaLinks(presenter);
                
                // Processing schedule item
                // Show title processed
                
                return `
                    <div class="schedule-item">
                        <div class="schedule-image">
                            <img src="${image}" alt="${presenter}" onerror="this.src='images/SamudraFMLogo1.png'" />
                        </div>
                        <div class="schedule-content">
                            <div class="presenter-name">${presenter}</div>
                            <div class="show-title">${show}</div>
                 <div class="schedule-actions">
                     <a href="${socialLinks.twitter}" target="_blank" rel="noopener" class="action-btn ${socialLinks.twitter !== '#' ? 'active' : 'disabled'}" title="X (Twitter)">
                         <i class="fab fa-twitter"></i>
                     </a>
                     <a href="${socialLinks.facebook}" target="_blank" rel="noopener" class="action-btn ${socialLinks.facebook !== '#' ? 'active' : 'disabled'}" title="Facebook">
                         <i class="fab fa-facebook"></i>
                     </a>
                     <a href="${socialLinks.instagram}" target="_blank" rel="noopener" class="action-btn ${socialLinks.instagram !== '#' ? 'active' : 'disabled'}" title="Instagram">
                         <i class="fab fa-instagram"></i>
                     </a>
                     <a href="${socialLinks.youtube}" target="_blank" rel="noopener" class="action-btn ${socialLinks.youtube !== '#' ? 'active' : 'disabled'}" title="YouTube">
                         <i class="fab fa-youtube"></i>
                     </a>
                 </div>
                        </div>
                        <div class="schedule-time">
                            <div class="time-slot">
                                <div class="date-day">${item.date || 'Today'}</div>
                                <div class="date-day">${item.day || 'Monday'}</div>
                                <div class="time-range">${startTime} — ${endTime}</div>
                            </div>
                        </div>
                    </div>
                `;
            }).join('');
            
            // Add the message at the bottom of the schedule
            const bottomMessage = '<div style="text-align: center; color: var(--muted); font-style: italic; padding: 40px 20px; border-top: 1px solid rgba(255,255,255,0.1); margin-top: 20px;">oh oo! future shows are not yet added :(</div>';
            
            container.innerHTML = scheduleHTML + bottomMessage;
        }
        
        // Render schedule items with pagination
        function renderScheduleItemsPaginated(container) {
            // renderScheduleItemsPaginated called
            // Processing schedule data
            // Schedule data length checked
            
            if (!allScheduleData || allScheduleData.length === 0) {
                container.innerHTML = '<p style="text-align: center; color: var(--muted); font-style: italic; padding: 40px 20px;">oh oo! future shows are not yet added :(</p>';
                return;
            }
            
            // Rendering schedule items with pagination
            
            // Reset displayed count
            currentDisplayed = 0;
            
            // Show initial items
            loadMoreItems(container);
        }
        
        // Load more items function
        function loadMoreItems(container) {
            const itemsToShow = allScheduleData.slice(currentDisplayed, currentDisplayed + (currentDisplayed === 0 ? displayedCount : loadMoreCount));
            
            if (itemsToShow.length === 0) {
                return;
            }
            
            // Loading more items
            
            const scheduleHTML = itemsToShow.map((item, index) => {
                // Ensure all required fields have fallback values
                const presenter = item.presenter || item.title || 'TBA';
                const show = item.show || item.description || 'Special Show';
                const startTime = item.startTime || '10:00';
                const endTime = item.endTime || '11:00';
                
                // Use profile picture detection or fallback to provided image
                const image = item.image || getProfilePicture(presenter);
                
                // Get social media links for this presenter
                const socialLinks = getSocialMediaLinks(presenter);
                
                // Show title processed
                
                return `
                    <div class="schedule-item">
                        <div class="schedule-image">
                            <img src="${image}" alt="${presenter}" onerror="this.src='images/SamudraFMLogo1.png'" />
                        </div>
                        <div class="schedule-content">
                            <div class="presenter-name">${presenter}</div>
                            <div class="show-title">${show}</div>
                 <div class="schedule-actions">
                     <a href="${socialLinks.twitter}" target="_blank" rel="noopener" class="action-btn ${socialLinks.twitter !== '#' ? 'active' : 'disabled'}" title="X (Twitter)">
                         <i class="fab fa-twitter"></i>
                     </a>
                     <a href="${socialLinks.facebook}" target="_blank" rel="noopener" class="action-btn ${socialLinks.facebook !== '#' ? 'active' : 'disabled'}" title="Facebook">
                         <i class="fab fa-facebook"></i>
                     </a>
                     <a href="${socialLinks.instagram}" target="_blank" rel="noopener" class="action-btn ${socialLinks.instagram !== '#' ? 'active' : 'disabled'}" title="Instagram">
                         <i class="fab fa-instagram"></i>
                     </a>
                     <a href="${socialLinks.youtube}" target="_blank" rel="noopener" class="action-btn ${socialLinks.youtube !== '#' ? 'active' : 'disabled'}" title="YouTube">
                         <i class="fab fa-youtube"></i>
                     </a>
                 </div>
                        </div>
                        <div class="schedule-time">
                            <div class="time-slot">
                                <div class="date-day">${item.date || 'Today'}</div>
                                <div class="date-day">${item.day || 'Monday'}</div>
                                <div class="time-range">${startTime} — ${endTime}</div>
                            </div>
                        </div>
                    </div>
                `;
            }).join('');
            
            if (currentDisplayed === 0) {
                // First load - replace content
                container.innerHTML = scheduleHTML;
            } else {
                // Load more - append content
                container.insertAdjacentHTML('beforeend', scheduleHTML);
            }
            
            currentDisplayed += itemsToShow.length;
            
            // Add or update Load More button
            updateLoadMoreButton(container);
            
            // If all items are loaded, add the bottom message
            if (currentDisplayed >= allScheduleData.length) {
                const existingMessage = container.querySelector('.schedule-bottom-message');
                if (!existingMessage) {
                    const bottomMessage = '<div class="schedule-bottom-message" style="text-align: center; color: var(--muted); font-style: italic; padding: 40px 20px; border-top: 1px solid rgba(255,255,255,0.1); margin-top: 20px;">oh oo! future shows are not yet added :(</div>';
                    container.insertAdjacentHTML('beforeend', bottomMessage);
                }
            }
        }
        
        // Update Load More button
        function updateLoadMoreButton(container) {
            // Remove existing button
            const existingButton = container.parentNode.querySelector('.load-more-btn');
            if (existingButton) {
                existingButton.remove();
            }
            
            // Check if there are more items to load
            if (currentDisplayed < allScheduleData.length) {
                const loadMoreButton = document.createElement('button');
                loadMoreButton.className = 'load-more-btn';
                loadMoreButton.innerHTML = 'Load More';
                loadMoreButton.style.cssText = `
                    display: block;
                    margin: 20px auto;
                    padding: 12px 24px;
                    background: var(--accent, #4a2c8a);
                    color: white;
                    border: none;
                    border-radius: 8px;
                    font-size: 16px;
                    font-weight: 600;
                    cursor: pointer;
                    transition: all 0.3s ease;
                `;
                
                loadMoreButton.addEventListener('click', () => {
                    loadMoreButton.innerHTML = 'Loading...';
                    loadMoreButton.disabled = true;
                    
                    setTimeout(() => {
                        loadMoreItems(container);
                        loadMoreButton.innerHTML = 'Load More';
                        loadMoreButton.disabled = false;
                    }, 300);
                });
                
                loadMoreButton.addEventListener('mouseenter', () => {
                    loadMoreButton.style.background = 'var(--accent-hover, #5a3a9a)';
                });
                
                loadMoreButton.addEventListener('mouseleave', () => {
                    loadMoreButton.style.background = 'var(--accent, #4a2c8a)';
                });
                
                container.parentNode.appendChild(loadMoreButton);
            }
        }
        
        // Load Google Calendar events via JSONP for static hosting
        async function loadGoogleCalendarEvents() {
            try {
                const apiKey = 'AIzaSyAwJIWjqSccC0lITDPo-qu4Xas3MHkBXX4';
                const calendarId = 'samudrafm.com@gmail.com';
                
                const now = new Date();
                const timeMin = now.toISOString();
                const timeMax = new Date(now.getTime() + (30 * 24 * 60 * 60 * 1000)).toISOString();
                
                // Use JSONP approach for static hosting
                const calendarUrl = `https://www.googleapis.com/calendar/v3/calendars/${encodeURIComponent(calendarId)}/events?key=${apiKey}&timeMin=${timeMin}&timeMax=${timeMax}&maxResults=50&singleEvents=true&orderBy=startTime&callback=handleCalendarResponse`;
                
                return new Promise((resolve, reject) => {
                    // Create a unique callback function name
                    const callbackName = 'googleCalendarCallback_' + Date.now();
                    
                    // Create the script tag for JSONP
                    const script = document.createElement('script');
                    script.src = calendarUrl.replace('callback=handleCalendarResponse', `callback=${callbackName}`);
                    
                    // Define the callback function
                    window[callbackName] = function(data) {
                        try {
                            // Clean up
                            document.head.removeChild(script);
                            delete window[callbackName];
                            
                            if (data.error) {
                                throw new Error(`Google Calendar API error: ${data.error.message}`);
                            }
                            
                            // Successfully fetched Google Calendar events
                            
                            // Transform the data to match schedule format
                            const events = data.items.map(event => {
                                const fullTitle = event.summary || 'TBA';
                                
                                // Split "JensenL - A Wee Mystical Magical Show" into presenter and show
                                let presenter, show;
                                if (fullTitle.includes(' - ')) {
                                    const parts = fullTitle.split(' - ');
                                    presenter = parts[0].trim();
                                    show = parts[1].trim();
                                } else {
                                    presenter = fullTitle;
                                    show = event.description || 'Special Show';
                                }
                                
                                const startDate = new Date(event.start?.dateTime || event.start?.date);
                                const endDate = new Date(event.end?.dateTime || event.end?.date);
                                
                                return {
                                    presenter: presenter,
                                    show: show,
                                    startTime: startDate.toLocaleTimeString('en-GB', { 
                                        hour: '2-digit', 
                                        minute: '2-digit',
                                        hour12: false 
                                    }),
                                    endTime: endDate.toLocaleTimeString('en-GB', { 
                                        hour: '2-digit', 
                                        minute: '2-digit',
                                        hour12: false 
                                    }),
                                    date: startDate.toLocaleDateString('en-GB', {
                                        day: 'numeric',
                                        month: 'short'
                                    }),
                                    day: startDate.toLocaleDateString('en-GB', {
                                        weekday: 'long'
                                    }),
                                    image: getProfilePicture(presenter)
                                };
                            });
                            
                            resolve(events);
                        } catch (error) {
                            reject(error);
                        }
                    };
                    
                    // Handle script load error
                    script.onerror = function() {
                        document.head.removeChild(script);
                        delete window[callbackName];
                        reject(new Error('Failed to load Google Calendar data'));
                    };
                    
                    // Add script to document
                    document.head.appendChild(script);
                    
                    // Timeout after 10 seconds
                    setTimeout(() => {
                        if (window[callbackName]) {
                            document.head.removeChild(script);
                            delete window[callbackName];
                            reject(new Error('Google Calendar request timeout'));
                        }
                    }, 10000);
                });
                
            } catch (error) {
                //console.error('Google Calendar API error:', error);
                return null;
            }
        }
    </script>
    
    <!-- Mixcloud Widget Script -->
    <script src="https://widget.mixcloud.com/media/js/widgetApi.js" type="text/javascript"></script>
    
    <script src="script.js?v=73&t=1734570400&nocache=1"></script>
    
</body>
</html>
